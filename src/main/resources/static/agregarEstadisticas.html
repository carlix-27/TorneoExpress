<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Agregar Estadísticas</title>

    <link rel="stylesheet" href="styles/agregarEstadisticas.css">

    <style>
        /* Styles for error and success messages */
        #error-message,
        #success-message {
            color: red;
            display: none;
        }

        .success {
            color: green;
        }

        /* Styles for back button */
        .back-button {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            background-color: #f2f2f2;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<header>
    <h1>Torneos Express</h1>
    <!-- Menú de navegación -->
    <nav>
        <ul>
            <li><a href="home.html">Inicio</a></li>
            <li><a href="#" onclick="logout()">Cerrar Sesión</a></li>
        </ul>
    </nav>
</header>

<!-- Logout Script -->
<script>
    function logout() {
        localStorage.removeItem("userId"); // Remove userId from localStorage
        window.location.href = "login.html"; // Redirect to login page after logout
    }
</script>

<div class="container">
    <!-- Partidos Activos -->
    <div id="partidosActivos" class="section">
        <h2>Partidos Activos</h2>
        <ul id="match-result">
            <!-- Los partidos se agregarán aquí dinámicamente -->
        </ul>
        <div id="stats-container">
            <!-- Las estadísticas del partido seleccionado se mostrarán aquí -->
        </div>
    </div>


    <!-- Formulario para agregar estadísticas -->
    <div id="agregarEstadisticas" class="section">
        <h2>Agregar Estadísticas</h2>
        <form id="formularioEstadisticas">
            <select name="partido" id="partidoSelector">
                <option value="">Seleccione un partido</option>
                <!-- Opciones de partidos activos se agregarán aquí dinámicamente -->
            </select>
            <input type="number" name="team1Score" placeholder="Puntaje equipo 1" required>
            <input type="number" name="team2Score" placeholder="Puntaje equipo 2" required>
            <button type="submit">Guardar</button>
        </form>
        <div id="success-message" class="success">Estadísticas agregadas con éxito</div>
        <div id="error-message" class="error">Hubo un problema al agregar las estadísticas</div>
    </div>
</div>

<!-- Elemento oculto para almacenar el ID del torneo -->
<input type="hidden" id="tournamentId">

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Obtener el ID del torneo de la URL y almacenarlo en el elemento oculto
        const urlParams = new URLSearchParams(window.location.search);
        const tournamentId = urlParams.get('id');
        if (tournamentId) {
            document.getElementById('tournamentId').value = tournamentId;
        }
    });
</script>

<script src="js/tournament/saveStats.js"></script>
<script src="js/tournament/loadActiveMatches.js"></script>

</body>
</html>
