<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Torneos Express - Login</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet"  href="styles/styleLogin.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>
<body>
	<div class="login-box">
		<h2>Login</h2>

		<form id="login-form" action="/api/auth/login" method="post">
			<div class="textbox">
				<i class="fas fa-user"></i>
				<input type="text" id="email" placeholder="Email" required>
			</div>
			<div class="textbox">
				<i class="fas fa-lock"></i>
				<input type="password" id="password" placeholder="Password" required>
			</div>
			<input type="button" value="Login" name="login_button" onclick="login()">
		</form>

		<script>
			function login() {
				const email = document.getElementById('email').value;
				const password = document.getElementById('password').value;
				const loginRequest = {
					email: email,
					password: password
				};

				const xhr = new XMLHttpRequest();
				xhr.open('POST', '/api/auth/login', true);
				xhr.setRequestHeader('Content-Type', 'application/json');
				xhr.onload = function() {
					if (xhr.status === 200) {
						// Handle successful login
						const response = JSON.parse(xhr.responseText);
						console.log(response);
						// Redirect to home page or show success message
					} else {
						// Handle error
						console.error(xhr.responseText);
						// Show error message
					}
				};
				xhr.send(JSON.stringify(loginRequest));
			}
		</script>



	</div>

</body>
</html>